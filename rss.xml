<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Istio By Example]]></title><description><![CDATA[Service Mesh Made Simple]]></description><link>https://istiobyexample.dev/</link><generator>RSS for Node</generator><lastBuildDate>Mon, 05 Aug 2019 20:46:39 GMT</lastBuildDate><item><title><![CDATA[canary deployment]]></title><description><![CDATA[A canary deployment is a strategy for safely rolling out a new version of a service. With Istio, you can use percentage-based traffic…]]></description><link>https://istiobyexample.dev//canary/</link><guid isPermaLink="false">https://istiobyexample.dev//canary/</guid><pubDate>Fri, 01 May 2015 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;A canary deployment is a strategy for safely rolling out a new version of a service. With Istio, you can use percentage-based &lt;a href=&quot;https://istio.io/docs/concepts/traffic-management/#routing-versions&quot;&gt;traffic splitting&lt;/a&gt; to direct a small amount of traffic to the new version. Then you can run a &lt;a href=&quot;https://cloud.google.com/blog/products/devops-sre/canary-analysis-lessons-learned-and-best-practices-from-google-and-waze&quot;&gt;canary analysis&lt;/a&gt; on v2 (like check latency and error rate), and finally direct more traffic at the new version until it’s serving all traffic.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c2548d68d472716f3d1bb5154f80c342/95779/canary_diagram.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.26678932842687%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAJnKAACZygHjkaQiAAABpElEQVQoz32TC1OjQBCE+f+/zSpPvWgSDRElJITXEhBNWOa7WR6RK+uOqmFmqN3e7tnG43+PyCzL2Moshv7SQtcNnecWfYfM8ghwrQeQ1gplA0UFphL2KSS5RjFgeDM6szxF94PPPoFya6gryyaE5VZ48iEzYJWl56gaPe1UwyGV/iR3en6CL5WCzZCPB222SBuT7SIuTzGnoORBgZa+cLcaAB2W11p4jeBtL/x+gc27cPZTzK6mMEc4b5BmrTlCziFJXFGtMsp9w/0GVspw9Sq97B7Q6b5fuxBedvAenOl8ZfCcU6QHaENluFB2RS85K1WJlokqiNNxhtqb03gpTvc6gEAZ+jqTKNYTwpTmoAxrt8Qin8qyvtO6IdbNx+eSJPxk9TYQuV26cY2XYu3QHHM3cCE1wwwTzdWHfF+Te50XpIHPJawwquB20XHziM5Q9xWj5J6DFlbt4LKzxaVVe7QjWO+j7mrJNPnS+8moA8OvpRBEw9ydbDvN8F/WmTx5BdZvjvnxaMnNoMY5w6lzdS/5b2P/jAls+ku6zpmbPuaqprV/AHPHVhz9Pr0pAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diagram&quot;
        title=&quot;Diagram&quot;
        src=&quot;/static/c2548d68d472716f3d1bb5154f80c342/b9e4f/canary_diagram.png&quot;
        srcset=&quot;/static/c2548d68d472716f3d1bb5154f80c342/cf440/canary_diagram.png 148w,
/static/c2548d68d472716f3d1bb5154f80c342/d2d38/canary_diagram.png 295w,
/static/c2548d68d472716f3d1bb5154f80c342/b9e4f/canary_diagram.png 590w,
/static/c2548d68d472716f3d1bb5154f80c342/f9b6a/canary_diagram.png 885w,
/static/c2548d68d472716f3d1bb5154f80c342/2d849/canary_diagram.png 1180w,
/static/c2548d68d472716f3d1bb5154f80c342/95779/canary_diagram.png 4348w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; networking.istio.io/v1alpha3
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VirtualService
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; helloworld
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;hosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; helloworld
  &lt;span class=&quot;token key atrule&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; helloworld
        &lt;span class=&quot;token key atrule&quot;&gt;subset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
      &lt;span class=&quot;token key atrule&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; helloworld
        &lt;span class=&quot;token key atrule&quot;&gt;subset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v2
      &lt;span class=&quot;token key atrule&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; networking.istio.io/v1alpha3
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DestinationRule
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; helloworld
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; helloworld
  &lt;span class=&quot;token key atrule&quot;&gt;subsets&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
    &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v2
    &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[retry policy]]></title><description><![CDATA[Microservices architectures are distributed. This means more requests on the network, increasing the chance of transient failures like…]]></description><link>https://istiobyexample.dev//retry/</link><guid isPermaLink="false">https://istiobyexample.dev//retry/</guid><pubDate>Fri, 01 May 2015 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Microservices architectures are distributed. This means more requests on the network, increasing the chance of transient failures like network congestion.&lt;/p&gt;
&lt;p&gt;Adding retry policies for requests helps build resiliency in a services architecture. Often, this retry logic is &lt;a href=&quot;https://upgear.io/blog/simple-golang-retry-function/&quot;&gt;built into source code&lt;/a&gt;. But with Istio, you can define retry policies &lt;a href=&quot;https://istio.io/docs/concepts/traffic-management/#set-number-and-timeouts-for-retries&quot;&gt;with a traffic rule&lt;/a&gt;, offloading this logic to your services’ &lt;a href=&quot;https://istio.io/docs/concepts/what-is-istio/#architecture&quot;&gt;sidecar proxies&lt;/a&gt;. This can help you standardize around the same policies across many services, protocols, and programming languages.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d04b1ed50b6173e601a8aeca559a7d52/8ddd4/retry.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.16132167152575%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAJnKAACZygHjkaQiAAABZUlEQVQoz32S3W6bQBCFef/nSq9ykTZpqmCTpI6htvkRGMdml92drwMEo6pRVhrtMDp7mDNnIr44IjLGUmD5ls/fRCJBQe4aQSwhWM17RGbSmWjOB6ydsNe3A94TuVDQh53GHhdyPA2BVvNSwe9La1eynp4DXhrF1oot9D4w80Q2vGoh00KFYYOvz5iHWgkcna3pOmhPgg+TxoDFnQouNzm2zmkuK94vKb2kE6HxCcnLT9ZxipE9XZxh1jV2k5NVLesEfsXC762QFxBvHH++raHqaX488vh0xyrefnSYDYTPtOct1nTa0w6T5HR3FX2hsjmyTWGfi/5U+P6AdtTTrt4wtyXn5IVdeU+axRj/OktWMnnChhUmJDivZCrJMcywUbnaTC0cCqGsBtFGR1TiipOad9HJNlrTeUo7EQ7OTE5/hFKNMbomn5gSVN5gyHE0xoXjGF6OI2n0//L9u2PL2iz5V3v4F0PYvBQdYfR+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diagram&quot;
        title=&quot;Diagram&quot;
        src=&quot;/static/d04b1ed50b6173e601a8aeca559a7d52/b9e4f/retry.png&quot;
        srcset=&quot;/static/d04b1ed50b6173e601a8aeca559a7d52/cf440/retry.png 148w,
/static/d04b1ed50b6173e601a8aeca559a7d52/d2d38/retry.png 295w,
/static/d04b1ed50b6173e601a8aeca559a7d52/b9e4f/retry.png 590w,
/static/d04b1ed50b6173e601a8aeca559a7d52/f9b6a/retry.png 885w,
/static/d04b1ed50b6173e601a8aeca559a7d52/2d849/retry.png 1180w,
/static/d04b1ed50b6173e601a8aeca559a7d52/8ddd4/retry.png 5145w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In this example, all inbound requests to the &lt;code class=&quot;language-text&quot;&gt;helloworld&lt;/code&gt; service try 5 times, and an attempt is marked as failed if it takes longer than 2 seconds to complete.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; networking.istio.io/v1alpha3
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DestinationRule
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; helloworld
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; helloworld
  &lt;span class=&quot;token key atrule&quot;&gt;subsets&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
    &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; networking.istio.io/v1alpha3
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VirtualService
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; helloworld
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;hosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; helloworld
  &lt;span class=&quot;token key atrule&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; helloworld
        &lt;span class=&quot;token key atrule&quot;&gt;subset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
    &lt;span class=&quot;token key atrule&quot;&gt;retries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;attempts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;perTryTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2s&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[mutual tls]]></title><description><![CDATA[A microservices architecture means more requests on the network, and more opportunities for malicious parties to intercept traffic. Mutual…]]></description><link>https://istiobyexample.dev//mtls/</link><guid isPermaLink="false">https://istiobyexample.dev//mtls/</guid><pubDate>Fri, 01 May 2015 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;A microservices architecture means more requests on the network, and more opportunities for malicious parties to intercept traffic. &lt;a href=&quot;https://en.wikipedia.org/wiki/Mutual_authentication&quot;&gt;Mutual TLS&lt;/a&gt; (mTLS) authentication is a way to encrypt services traffic using &lt;a href=&quot;https://www.internetsociety.org/deploy360/tls/basics/&quot;&gt;certificates&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;With Istio, you can automate the enforcement of mTLS across all services. Below, we enable mTLS for the entire mesh. Two pods in the cluster, &lt;code class=&quot;language-text&quot;&gt;client&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt;, are shown establishing a secure connection with the mTLS policy in place.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4023fdf6c75d10290a6dd65f63b7471e/3e8e9/mtls.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.11169170476813%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAJnKAACZygHjkaQiAAABQElEQVQoz4WRXU/jMBBF8/9/Eu+LQLuiBR7QlhIKTQtNGyf+jB0nPrjhCQnBSFdjWbrHcz0Fv1T65jxNE0MYGYaRGM+aZqWUKJwbaBpL1/WfXUW6g6EVnt42meJIYUfqV+DumcI7rYxI7bMG2i5kr+N4NDOjEMKx3bZUVUf5LPCyxv6tUKsKKR7B/iOZG5K9B3NN1Eu6astYdvkhzamuOTU9+51kl1W0rWO9PrFaHXnN0EksCIsd/cMC061BX5H0NcmX0D8ymUvU8oLhSRDKOzZPS8pSsdk081AzcL+XSNlT1xo/QDharErIepkhdxlW5eT/58gxNIh3g1vnNC7RtB6tPIeD5u1NUYzjhDEBlS+1zl06pPEoHYnyT458O8OSfyFFMS/F5n+X9uzps8fP3vNA3keKX7ec4pctnzf5U30ADZwaIEs3XGIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diagram&quot;
        title=&quot;Diagram&quot;
        src=&quot;/static/4023fdf6c75d10290a6dd65f63b7471e/b9e4f/mtls.png&quot;
        srcset=&quot;/static/4023fdf6c75d10290a6dd65f63b7471e/cf440/mtls.png 148w,
/static/4023fdf6c75d10290a6dd65f63b7471e/d2d38/mtls.png 295w,
/static/4023fdf6c75d10290a6dd65f63b7471e/b9e4f/mtls.png 590w,
/static/4023fdf6c75d10290a6dd65f63b7471e/f9b6a/mtls.png 885w,
/static/4023fdf6c75d10290a6dd65f63b7471e/2d849/mtls.png 1180w,
/static/4023fdf6c75d10290a6dd65f63b7471e/3e8e9/mtls.png 6124w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; authentication.istio.io/v1alpha1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MeshPolicy
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; default
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;peers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;mtls&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; STRICT&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; networking.istio.io/v1alpha3
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DestinationRule
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; default
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; istio&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; *.local
  &lt;span class=&quot;token key atrule&quot;&gt;trafficPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;tls&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ISTIO_MUTUAL&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here, a &lt;code class=&quot;language-text&quot;&gt;MeshPolicy&lt;/code&gt; enforces TLS for all services &lt;em&gt;receiving&lt;/em&gt; requests (server-side), and a &lt;code class=&quot;language-text&quot;&gt;DestinationRule&lt;/code&gt; enforces TLS for all services &lt;em&gt;sending&lt;/em&gt; requests (client-side), resulting in mutual (“both”) TLS.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Authentication Flow:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;client&lt;/code&gt; application container sends a plain-text HTTP request to &lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;client&lt;/code&gt; proxy container intercepts the outbound request.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;client&lt;/code&gt; proxy performs a TLS &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_7.1.0/com.ibm.mq.doc/sy10660_.htm&quot;&gt;handshake&lt;/a&gt; with the server-side proxy. This handshake includes an exchange of certificates. These certs are pre-loaded into the proxy containers by Istio.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;client&lt;/code&gt; proxy performs a &lt;a href=&quot;https://istio.io/docs/concepts/security/#secure-naming&quot;&gt;secure naming&lt;/a&gt; check on the server’s certificate, verifying that an authorized identity is running the &lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;client&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt; establish a mutual TLS connection, and the &lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt; proxy forwards the request to the &lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt; application container.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Learn more&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://istio.io/docs/concepts/security/#authentication&quot;&gt;Istio Docs - Authentication&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/GoogleCloudPlatform/istio-samples/tree/77fb1dfb690d28517e410df2911e255d54e3450e/security-intro#authentication&quot;&gt;Samples: Authentication&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://istio.io/docs/tasks/security/authn-policy/&quot;&gt;Task - Authentication Policies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://istio.io/docs/tasks/security/mutual-tls/&quot;&gt;Task - Mutual TLS Deep-Dive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://istio.io/faq/security/#enabling-disabling-mtls&quot;&gt;FAQ - mTLS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[path-based routing]]></title><description><![CDATA[Istio and Envoy work at the Application traffic layer (L7), allowing you to direct and load-balance traffic based on attributes like HTTP…]]></description><link>https://istiobyexample.dev//path-based-routing/</link><guid isPermaLink="false">https://istiobyexample.dev//path-based-routing/</guid><pubDate>Fri, 01 May 2015 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Istio and &lt;a href=&quot;https://istio.io/docs/concepts/what-is-istio/#envoy&quot;&gt;Envoy&lt;/a&gt; work at the Application traffic layer (L7), allowing you to direct and load-balance traffic based on attributes like HTTP headers. This example shows how to direct traffic &lt;a href=&quot;https://istio.io/docs/concepts/traffic-management/#match-request-uri&quot;&gt;based on the request URI&lt;/a&gt; path.&lt;/p&gt;
&lt;p&gt;In this example, &lt;code class=&quot;language-text&quot;&gt;myapp&lt;/code&gt; is the server backend for a website, used by the &lt;code class=&quot;language-text&quot;&gt;frontend&lt;/code&gt;. An engineering team has implemented a new user authentication service, &lt;code class=&quot;language-text&quot;&gt;auth&lt;/code&gt;, which now operates as a separate service.&lt;/p&gt;
&lt;p&gt;Using an Istio &lt;a href=&quot;https://istio.io/docs/reference/config/networking/v1alpha3/virtual-service/#HTTPMatchRequest&quot;&gt;match rule&lt;/a&gt;, we redirect any request with the &lt;code class=&quot;language-text&quot;&gt;/login&lt;/code&gt; prefix to the new &lt;code class=&quot;language-text&quot;&gt;auth&lt;/code&gt; service, and direct all other &lt;code class=&quot;language-text&quot;&gt;myapp&lt;/code&gt; requests to the existing backend.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/549fa78eb8e1f4245156becb55891d6c/4b018/urimatch.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.709009153685564%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAJnKAACZygHjkaQiAAABwElEQVQoz32TCVPbMBCF8///VWc6HShlSsnVAgnEIbaxY/mWLUvy1w2loVyVZ2e9Op7evl1N+GCM43j0b8xbRp7MO5k7mH9cm7x74Gj+3cucK+i3ASaLMe2KvrqhL3/hhorJ+/RehrZXDDrE2xZrEprdCf1C0c0jOrWQtXtMvZZ9GZPa1URDSDxEZC4jN4rMy2Yvh9sdOp/SpifiLzFNICz2dLEw+pmhpyE6vhCg5BnwADbrpgQ24K5Yoc9Cyr0iUKd06Sn0AaNrhLV7Ttkqmd5goh1GrzGSsqmu/qQc25gv9Wdmbs5yeQ7BQL2MuMkDvi5i5hvRaxjxIoP3/qkoDicFsaMVPeVfYu/do1aTQ6rn7TeWZsm6uKa7fCAPYyr5us4zv0v59GPL9DY9Mixaw15p8saQlpqk0MSqRfeWSeMbEpuwtyn5mFNIBZV47fQRoB8cm4eSTVyijRWwluZ7jN6WLLaK26jgcp2iqu5Vlce3vejH8QXwSoBPzzb4m5xqljC7euA6zLlYJeR1//8+/HvLyxiirKEQsGqTE6Q14b7h6l6h6u6DPnzF8t9XcxitaKW0oewHsrJ71C+TdAfr+Q3Af1DuJHpbcwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;URI Match with Istio&quot;
        title=&quot;URI Match with Istio&quot;
        src=&quot;/static/549fa78eb8e1f4245156becb55891d6c/b9e4f/urimatch.png&quot;
        srcset=&quot;/static/549fa78eb8e1f4245156becb55891d6c/cf440/urimatch.png 148w,
/static/549fa78eb8e1f4245156becb55891d6c/d2d38/urimatch.png 295w,
/static/549fa78eb8e1f4245156becb55891d6c/b9e4f/urimatch.png 590w,
/static/549fa78eb8e1f4245156becb55891d6c/f9b6a/urimatch.png 885w,
/static/549fa78eb8e1f4245156becb55891d6c/2d849/urimatch.png 1180w,
/static/549fa78eb8e1f4245156becb55891d6c/4b018/urimatch.png 6227w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; networking.istio.io/v1alpha3
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VirtualService
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auth&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;redirect
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;hosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; myapp
  &lt;span class=&quot;token key atrule&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;prefix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/login&quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auth
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; myapp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[ingress]]></title><description><![CDATA[Ingress traffic refers to traffic entering the mesh from outside the cluster. Kubernetes provides ways to handle ingress traffic. With Istio…]]></description><link>https://istiobyexample.dev//ingress/</link><guid isPermaLink="false">https://istiobyexample.dev//ingress/</guid><pubDate>Fri, 01 May 2015 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Ingress traffic refers to traffic entering the mesh from outside the cluster. Kubernetes &lt;a href=&quot;https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer&quot;&gt;provides&lt;/a&gt; &lt;a href=&quot;https://kubernetes.io/docs/concepts/services-networking/ingress/&quot;&gt;ways&lt;/a&gt; to handle ingress traffic. With Istio, you can instead manage ingress traffic with a &lt;strong&gt;Gateway&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;A &lt;a href=&quot;https://istio.io/docs/reference/config/networking/v1alpha3/gateway/&quot;&gt;Gateway&lt;/a&gt; is a standalone set of Envoy proxies that load-balance inbound traffic. Istio deploys a default &lt;code class=&quot;language-text&quot;&gt;IngressGateway&lt;/code&gt; with a public IP address, which you can configure to expose applications inside your service mesh to the Internet.&lt;/p&gt;
&lt;p&gt;Istio Gateways have two key advantages over traditional Kubenretes Ingress. Because a Gateway is another Envoy proxy, you can use Istio to configure Gateway traffic in the same way you would configure east-west traffic between services (traffic splitting, redirects, retry logic).&lt;/p&gt;
&lt;p&gt;Gateways also forward metrics (request rate, error rate) just like sidecar proxies, allowing you to view Ingress traffic in &lt;a href=&quot;https://istio.io/docs/tasks/telemetry/kiali/#generating-a-service-graph&quot;&gt;a service graph&lt;/a&gt;, and set fine-grained &lt;a href=&quot;https://landing.google.com/sre/sre-book/chapters/service-level-objectives/&quot;&gt;SLOs&lt;/a&gt; on frontend services directly serving clients.&lt;/p&gt;
&lt;p&gt;Let’s see Gateways in action.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bd3ed1fb3d81ea46d223ab1adf06820d/94e46/ingress.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 128.32832832832833%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsSAAALEgHS3X78AAADc0lEQVRIx42UyW7bSBCG9YC+TJ7Bj5FLggC5zWUAHwaY5BbkklMGmRiBM3Ecw1asaKG1RDJl7TtX0VyaS/9TTYoiPQ5kkSp0q1n99V/V1V3AIw/nPG51XUelUkX9+hq1moSaJKFcLkPT9K2fsMJjwCiK4rbd7qDZaEDRTWiqAte2UK1UMBr0tn47gemKUZQolLtdvC/e4nIYoK8ydDWgJLVQbo/vRbK3wvF4jMFkce9brVrBRUfB8i7aQgtJJ7G0n1coLAgCHB8f4/Wrv/Dv5xN8OzvD9+Ilzr9+gWL5qE+9ZHEBTGF5y4fg+z5KpRKOjo5weHiI3548wcHBAZ49e47ZZISJGaG7ygHzqrL8ZUCRw7QfhiEURUGr1YLtOPHYVd+GzXIhixS5LtDtpTm7h96ZX8sN8GPoZCmit2DT/5NT4O07jvNLCjHIdveBhRxhEIH5YQz5MXAwN4PN0jyOrKDS9r/8HXj6AvjnE8dKAQyDQ9fIdDJjYyaN3wEmCQgpopLMUOx4cGhspXI4boItiEJ/+w7440+O0SQZDKMs4FSZKEfrcwdKfY6Tngtp5GzT4jgchrmpQ8YAEfZ8ySkU+kwznfoUdnkEuzqG05jFjs71FL68xPK8j/cf+rka4/Bok811rrCpzDYDPFYVGg7WZ12YpEiA3Jsl9L8bCcNmCKuj2I9HyRzX4zQfGVAo0w1sgcLxrtiHXZvA66vw5BWMjy2wiYGA/lvFRGEGxH0g1W68EfmCfnC2abJ10cPtJzne6bzvDiDfFnVs4gbZ3CLpMqWxCyfMfHcoxE6FKbE69OAy7K9Q/LzIgx3ZcCM3NtE3wzU8WPg+1qB6Yna0W6GeAw5YHz+9Vmwtt4k+62HuL6BhgTfSEGVjACNabaU/CuwyGZJbgxqoBJqj7W1KRtbx5XUTM82EQnDspZCeG6+DS/sCU38KPVRRsW5Qk2dU7HQ72z5WxSYtNNtTIT09dovj9Ud8tU7RZnWcaj/xgU6IW5vG3+ff6pgaw/2BHa+NqlMBo82xQgsNJgkv+OUZ2NUUmnSLRbjYP4eyJ6NkX6HhNnDtSmg6TdqENUxmQOuPY9g8mGc5dH8BTM+yeNbcIIAWt8JMrkMJl1CiJVR6VwT04W0VigvmAVBcXQbdeRrdgSYV+f9tnZqetOIgCF8xZ7EkHzMB/gcMqczAUmM0PwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;ingress&quot;
        title=&quot;ingress&quot;
        src=&quot;/static/bd3ed1fb3d81ea46d223ab1adf06820d/b9e4f/ingress.png&quot;
        srcset=&quot;/static/bd3ed1fb3d81ea46d223ab1adf06820d/cf440/ingress.png 148w,
/static/bd3ed1fb3d81ea46d223ab1adf06820d/d2d38/ingress.png 295w,
/static/bd3ed1fb3d81ea46d223ab1adf06820d/b9e4f/ingress.png 590w,
/static/bd3ed1fb3d81ea46d223ab1adf06820d/f9b6a/ingress.png 885w,
/static/bd3ed1fb3d81ea46d223ab1adf06820d/2d849/ingress.png 1180w,
/static/bd3ed1fb3d81ea46d223ab1adf06820d/94e46/ingress.png 3996w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Here, the &lt;code class=&quot;language-text&quot;&gt;hello&lt;/code&gt; application runs in a container, inside a Pod. The Pod has an injected Istio sidecar proxy container. A Kubernetes Service called &lt;code class=&quot;language-text&quot;&gt;hello&lt;/code&gt; fronts this pod. We want to direct inbound traffic from &lt;code class=&quot;language-text&quot;&gt;hello.com&lt;/code&gt; to the &lt;code class=&quot;language-text&quot;&gt;hello&lt;/code&gt; Service.&lt;/p&gt;
&lt;p&gt;First we need a &lt;code class=&quot;language-text&quot;&gt;Gateway&lt;/code&gt; resource, which opens port &lt;code class=&quot;language-text&quot;&gt;80&lt;/code&gt; in the Gateway proxy, for all hosts resolving from the &lt;code class=&quot;language-text&quot;&gt;hello.com&lt;/code&gt; domain.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; networking.istio.io/v1alpha3
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Gateway
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hello&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;gateway
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;istio&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ingressgateway &lt;span class=&quot;token comment&quot;&gt;# use the default IngressGateway&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;servers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; http
      &lt;span class=&quot;token key atrule&quot;&gt;protocol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTP
    &lt;span class=&quot;token key atrule&quot;&gt;hosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hello.com&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(&lt;strong&gt;Note&lt;/strong&gt;: on your own, you’ll still have to resolve the DNS for that host to the Istio &lt;code class=&quot;language-text&quot;&gt;IngressGateway&lt;/code&gt; external IP address.)&lt;/p&gt;
&lt;p&gt;Second, we need a &lt;code class=&quot;language-text&quot;&gt;VirtualService&lt;/code&gt; to direct traffic from the &lt;code class=&quot;language-text&quot;&gt;IngressGateway&lt;/code&gt; to the &lt;code class=&quot;language-text&quot;&gt;hello&lt;/code&gt; backend Service, running in the &lt;code class=&quot;language-text&quot;&gt;default&lt;/code&gt; namespace on port &lt;code class=&quot;language-text&quot;&gt;80&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; networking.istio.io/v1alpha3
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VirtualService
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; frontend&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;ingress
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;hosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hello.com&quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;gateways&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; hello&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;gateway
  &lt;span class=&quot;token key atrule&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hello.default.svc.cluster.local
        &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item></channel></rss>